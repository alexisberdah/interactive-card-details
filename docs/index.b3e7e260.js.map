{"mappings":"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","sources":["src/index.js"],"sourcesContent":["document.getElementById(\"number\").innerHTML = formattedNumber()\n\nfunction checkFieldsValidity() {\n    const nameInput = document.getElementById(\"nameInput\").value\n    const numberInput = document.getElementById(\"numberInput\").value\n    const monthInput = document.getElementById(\"monthInput\").value\n    const yearInput = document.getElementById(\"yearInput\").value\n    const cvcInput = document.getElementById(\"cvcInput\").value\n\n    const regex = /^([a-zA-Z]+\\s)+[a-zA-Z]+$/\n    console.log('Alex debug 77', nameInput)\n    const isNameOK = regex.test(nameInput)\n    const isNumberOK = numberInput.length == 16\n    const isMonthOK = monthInput < 13 && monthInput > 0\n    const isYearOK = yearInput.length == 2\n    const isCvcOK = cvcInput.length == 3\n\n    const isAllOK = isNameOK && isNumberOK && isMonthOK && isYearOK && isCvcOK\n\n    if (isAllOK) {\n        console.log('Alex debug next step then')\n        document.getElementById('personFormContainer').style.display = 'none'\n        document.getElementById('validationScreen').style.display = ''\n    } else {\n        if (!isNameOK) {\n            console.log('Alex debug name not OK', document.getElementById(\"nameInput\"))\n            document.getElementById(\"nameInput\").classList.add(\"errorInput\")\n            document.getElementById(\"nameSpan\").classList.add(\"active\")\n        }\n\n        if (!isNumberOK) {\n            document.getElementById(\"numberInput\").classList.add(\"errorInput\")\n            document.getElementById(\"numberSpan\").classList.add(\"active\")\n        }\n\n        if (!isMonthOK) {\n            document.getElementById(\"monthInput\").classList.add(\"errorInput\")\n            document.getElementById(\"monthSpan\").classList.add(\"active\")\n        }\n\n        if (!isYearOK) {\n            document.getElementById(\"yearInput\").classList.add(\"errorInput\")\n            document.getElementById(\"yearSpan\").classList.add(\"active\")\n        }\n\n        if (!isCvcOK) {\n            document.getElementById(\"cvcInput\").classList.add(\"errorInput\")\n            document.getElementById(\"cvcSpan\").classList.add(\"active\")\n        }\n    }\n    console.log('Alex debug isNameOK', isNameOK)\n}\n\nfunction resetErrors() {\n    var activeElements = document.querySelectorAll('.active')\n    for (let i = 0; i < activeElements.length; i++) {\n        activeElements[i].classList.remove('active')\n    }\n\n    var errors = document.querySelectorAll('.errorInput')\n    for (let i = 0; i < errors.length; i++) {\n        errors[i].classList.remove('errorInput')\n    }\n}\n\nfunction handleSubmit(event) {\n    console.log('Alex debug handleSubmit')\n    checkFieldsValidity()\n}\n\nfunction handleInput(event) {\n    const type = event.target.name\n    let regex\n    let value = event.target.value\n    let str\n    let newStr\n    console.log('Alex debug type', type)\n    resetErrors()\n    switch (type) {\n        case 'name':\n            event.target.value = value.toUpperCase()\n            console.log('Alex debug 66')\n            regex = /^([a-zA-Z' '])+$/\n            const isValid = regex.test(value);\n            if (!isValid) {\n                value = value.substring(0, value.length - 1)\n                event.target.value = value\n            } else {\n                document.getElementById(\"name\").innerHTML = value.toUpperCase()\n            }\n            if (value == '') {\n                document.getElementById(\"name\").innerHTML = 'JANE APPLESEED'\n            }\n            break\n        case 'number':\n            str = '0000000000000000'\n            regex = /^[1-9]+$/\n            if (value.length > 16 || (value.length > 0 && !regex.test(value))) {\n                value = value.substring(0, value.length - 1)\n                event.target.value = value\n            }\n            // let lastChar = str.charAt(str.length - value.length)\n            newStr = value + str.substring(value.length)\n            document.getElementById(\"number\").innerHTML = newStr\n            document.getElementById(\"number\").innerHTML = formattedNumber()\n\n            if (value == '') {\n                document.getElementById(\"number\").innerHTML = '0000 0000 0000 0000'\n            }\n            break\n        case 'month':\n            str = '00';\n            if (value.length > 2) {\n                value = value.substring(0, value.length - 1);\n                event.target.value = value;\n            }\n            newStr = str.substring(0, str.length - value.length) + value;\n            document.getElementById(\"month\").innerHTML = newStr;\n            break\n        case 'year':\n            str = '00'\n            if (value.length > 2) {\n                value = value.substring(0, value.length - 1)\n                event.target.value = value\n            }\n            newStr = value + str.substring(value.length)\n            document.getElementById(\"year\").innerHTML = newStr\n            break\n        case 'cvc':\n            str = '000'\n            if (value.length > 3) {\n                value = value.substring(0, value.length - 1)\n                event.target.value = value\n            }\n            newStr = value + str.substring(value.length)\n            document.getElementById(\"cvc\").innerHTML = newStr\n            break\n        default:\n            break\n    }\n    console.log('Alex debug handle input', event.target.value)\n}\n\nfunction formattedNumber() {\n    let str = document.getElementById(\"number\").innerHTML\n    let chunks = str.match(/.{1,4}/g)\n    let formattedStr = chunks.join(' ')\n    return formattedStr\n}\n\n// function unformattedNumber() {\n//     return document.getElementById(\"number\").innerHTML.replace(/\\s+/g, '')\n// }\n"],"names":["checkFieldsValidity","nameInput","document","getElementById","value","numberInput","monthInput","yearInput","cvcInput","console","log","isNameOK","test","isNumberOK","length","isMonthOK","isYearOK","isCvcOK","style","display","classList","add","resetErrors","activeElements","querySelectorAll","i","remove","errors","handleSubmit","event","handleInput","type","target","name","regex","str","newStr","toUpperCase","innerHTML","substring","formattedNumber","match","join"],"version":3,"file":"index.b3e7e260.js.map"}